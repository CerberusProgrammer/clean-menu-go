{{ define "title" }} Edit User {{ end }}
{{ define "main" }}
<div class="container mx-auto px-6 py-8">
    <h1 class="text-3xl font-bold mb-6">Edit User</h1>
    <form action="/users/edit" method="POST" enctype="multipart/form-data" class="space-y-6">
        <input type="hidden" name="id" value="{{.User.ID}}">
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
            <input type="email" name="email" id="email" value="{{.User.Email}}" required
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
            <input type="password" name="password" id="password" value="{{.User.Password}}" required
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        <div>
            <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
            <input type="text" name="username" id="username" value="{{.User.Username}}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        <div>
            <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
            <input type="text" name="name" id="name" value="{{.User.Name}}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        <div>
            <label for="phone" class="block text-sm font-medium text-gray-700">Phone</label>
            <input type="tel" name="phone" id="phone" value="{{.User.Phone}}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        {{if eq .CurrentUser.Role "administrator"}}
        <div>
            <label for="role" class="block text-sm font-medium text-gray-700">Role</label>
            <select name="role" id="role"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
                <option value="administrator" {{if eq .User.Role "administrator" }}selected{{end}}>Administrator
                </option>
                <option value="waiter" {{if eq .User.Role "waiter" }}selected{{end}}>Waiter</option>
                <option value="chef" {{if eq .User.Role "chef" }}selected{{end}}>Chef</option>
            </select>
        </div>
        {{end}}
        <div>
            <label for="image" class="block text-sm font-medium text-gray-700">Profile Image</label>
            <input type="file" name="image" id="image"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
        </div>
        <div>
            <button type="submit"
                class="bg-primary text-white px-4 py-2 rounded-md hover transition duration-300 ease-in-out">Update</button>
        </div>
    </form>
</div>
{{ end }}